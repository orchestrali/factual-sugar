<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="https://glitch.com/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Change Ringing Towers</title>

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="/style.css" />
    <script>
      window.email = "{{email}}";
    </script>
  </head>
  <body>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <!-- this is the start of content -->
    <h1>
      Change Ringing Towers
    </h1>
    <div class="row">
      <div class="view selected" id="all">
        All
      </div>
      <div class="view" id="nearby">
        Nearby
      </div>
      <div class="view" id="mytowers">
        My towers
      </div>
    </div>
    <div id="list">
      
    </div>
    <div class="row" id="sortby">
      <div id="sort">
        Sort:
      </div>
      <div id="place" class="selected">
        Place
      </div>
      <div id="country">
        Country
      </div>
      <div id="numbells">
        No. of bells
      </div>
      <div id="lbs">
        Weight
      </div>
    </div>
    <div id="container">
      <div id="nav">
        <ul>

        </ul>
      </div>
      <div id="table">
        <table id="alltowers">
          {{> table }}
        </table>
      </div>
      
    </div>
    <div id="mylist">
      <div id="g_id_onload" class="login"
         data-client_id="578566542368-9i4il0a9reon4iv48kngs6ejcr5c9cdj.apps.googleusercontent.com"
         data-callback="handlelogin"
         data-auto_prompt="false"
         >
      </div>
      <div class="g_id_signin login"
         data-type="standard"
         data-size="large"
         data-theme="outline"
         data-text="sign_in_with"
         data-shape="rectangular"
         data-logo_alignment="left"
      >
      </div>
      <p class="login">
        Sign in to a google account to save tower visits.
      </p>
      <button class="known" id="signout">
        Sign out
      </button>
      <p class="known">
        Logged in as {{email}}
      </p>
      <table id="visits" class="known">
        <thead><tr><th>Tower</th><th>Date</th></tr></thead>
        {{#each visits}}
        <tr id="v{{this.id}}"><td>{{this.place}}</td><td>{{this.date}}</td></tr>
        {{/each}}
      </table>
    </div>
    <div id="towerdetail">
      <button class="back button">Back to list</button>
      <ul id="detail">
        
      </ul>
      <button class="add button known">
        Add visit
      </button>
      <ul id="towervisits" class="known">
        
      </ul>
    </div>
    <div id="visitdetail">
      <div class="row">
        <button class="back button">Back to list/tower</button>
        <button class="edit button">
          Edit visit
        </button>
        <button class="delete button">
          Delete visit
        </button>
      </div>
      
      
    </div>
    <div id="newvisit">
      <h4>
        Add/Edit visit
      </h4>
      <div id="towerinfo">
        
      </div>
      <ul>
        <li><label for="year">Year:</label><select id="year">
          
          <option></option>
          {{#each years}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
          </select></li>
        <li><label for="month">Month:</label><select id="month">
          
          <option></option>
          <option value="01">Jan</option>
          <option value="02">Feb</option>
          <option value="03">Mar</option>
          <option value="04">Apr</option>
          <option value="05">May</option>
          <option value="06">Jun</option>
          <option value="07">Jul</option>
          <option value="08">Aug</option>
          <option value="09">Sep</option>
          <option value="10">Oct</option>
          <option value="11">Nov</option>
          <option value="12">Dec</option>
          </select></li>
        <li><label for="day">Day:</label><select id="day">
          
          <option></option>
          {{#each days}}
          <option value="{{this}}">{{this}}</option>
          {{/each}}
          </select></li>
        <li><label for="notes">Notes: </label></li>
        <li><textarea id="notes"></textarea></li>
      </ul>
      
      <p>
        
      </p>
      <div>
        <button class="back">
        Cancel
      </button>
        <button id="savevisit">
        Save
      </button>
      </div>
      
    </div>
    <div id="credit">
      <p>
        Data from the <a href="https://dove.cccbr.org.uk" target="blank">Dove's Guide for Church Bell Ringers</a> copyright <a href="https://cccbr.org.uk" target="blank">Central Council of Church Bell Ringers</a>.
      </p>
      <p>
        Site built by <a href="https://www.patreon.com/alisons" target="blank">Alison Stevens</a> on <a href="https://glitch.com" target="blank">Glitch</a>.
      </p>
    </div>
    <script src="jwt-decode.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="script.js"></script>
  </body>
</html>
